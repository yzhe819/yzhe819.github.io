<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="yzhe819"><title>MIT 6.S081 Lab 0 æ­å»ºç¯å¢ƒ ï½œ yzhe819</title><meta name=description content=" æœ¬ç¯‡æ–‡ç« ä¸»è¦è®°å½•MIT 6.S081å®éªŒç¯å¢ƒçš„æ­å»ºå’Œç‰ˆæœ¬ç®¡ç†çš„é…ç½®ã€‚
å®˜ç½‘é“¾æ¥ï¼šLab: Tools
æœ¬åœ°ç¯å¢ƒä¸ºï¼šWindows 10 + WSL2 (Ubuntu 20.04.4 LTS)
"><meta name=keywords content="yzhe819,zozo"><link rel="shortcut icon" href=https://yzhe819.github.io/images/favicon.ico><link rel=stylesheet type=text/css media=screen href=https://yzhe819.github.io/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css><link rel=stylesheet type=text/css media=screen href=https://yzhe819.github.io/css/zozo.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css><link rel=stylesheet type=text/css media=screen href=https://yzhe819.github.io/css/highlight.css></head><body><div class="main animate__animated animate__fadeInDown"><div class="nav_container animated fadeInDown"><div class=site_nav id=site_nav><ul><li><a href=/>Home</a></li><li><a href=/posts/>Archive</a></li><li><a href=/tags/>Tags</a></li><li><a href=/about/>About</a></li></ul></div><div class=menu_icon><a id=menu_icon><i class=ri-menu-line></i></a></div></div><div class="header animated fadeInDown"><div class=site_title_container><div class=site_title><h1><a href=https://yzhe819.github.io/><span>yzhe819</span></a></h1></div><div class=description><p class=sub_title>yzhe819's Blog</p><div class=my_socials><a href=https://github.com/yzhe819 title=github target=_blank><i class=ri-github-fill></i></a>
<a href=https://yzhe819.github.io/index.xml type=application/rss+xml title=rss target=_blank><i class=ri-rss-fill></i></a></div></div></div></div><div class=content><div class=post_page><div class="post animate__animated animate__fadeInDown"><div class="post_title post_detail_title"><h2><a href=/posts/mit-6.s081.lab-0/>MIT 6.S081 Lab 0 æ­å»ºç¯å¢ƒ</a></h2><span class=date>2022.06.07</span></div><div class="post_content markdown"><blockquote><p>æœ¬ç¯‡æ–‡ç« ä¸»è¦è®°å½•MIT 6.S081å®éªŒç¯å¢ƒçš„æ­å»ºå’Œç‰ˆæœ¬ç®¡ç†çš„é…ç½®ã€‚</p></blockquote><p>å®˜ç½‘é“¾æ¥ï¼š<a href=https://pdos.csail.mit.edu/6.828/2020/tools.html>Lab: Tools</a></p><p>æœ¬åœ°ç¯å¢ƒä¸ºï¼šWindows 10 + WSL2 (Ubuntu 20.04.4 LTS)</p><h2 id=ç¯å¢ƒæ­å»º>ç¯å¢ƒæ­å»º</h2><h3 id=å®˜æ–¹æ­å»ºæŒ‡å¯¼>å®˜æ–¹æ­å»ºæŒ‡å¯¼</h3><p><a href=https://pdos.csail.mit.edu/6.828/2020/tools.html>å®˜æ–¹çš„æ­å»ºæ­¥éª¤</a></p><p><img src=/tools.png alt=å®˜æ–¹çš„æ­å»ºæ­¥éª¤></p><h3 id=æœ¬åœ°æ­å»ºè®°å½•>æœ¬åœ°æ­å»ºè®°å½•</h3><p>é¦–å…ˆè¿›å…¥WSL2ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ bash
</span></span></code></pre></div><p>ç„¶åæ£€æŸ¥ ubuntu ç‰ˆæœ¬ï¼Œç¡®ä¿ ubuntu æ˜¯åœ¨20æˆ–è€…ä»¥ä¸Šã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ lsb_release -a
</span></span></code></pre></div><p><strong>ç‰¹åˆ«æ³¨æ„</strong>ï¼šè¿™é‡Œæ£€æŸ¥ç‰ˆæœ¬æ˜¯å› ä¸ºåªæœ‰ ubuntu 20.04 ä¸‹é¢æ‰æœ‰å¯¹åº”çš„æŸä¸ªpackageçš„é•œåƒæºï¼Œå¦‚æœæ˜¯ç‰ˆæœ¬18æ˜¯æ— æ³•æŸ¥æ‰¾åˆ°çš„ã€‚<strong>å¦‚æœæœ‰éœ€è¦è¯·è‡ªè¡Œæ›´æ–°WSL</strong></p><p>ç„¶åæ ¹æ®å®˜æ–¹æ•™ç¨‹ï¼ŒæŠŠä¸€ç³»åˆ—ä¾èµ–è£…ä¸Šï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo apt-get install git build-essential gdb-multiarch qemu-system-misc gcc-riscv64-linux-gnu binutils-riscv64-linux-gnu
</span></span></code></pre></div><p>æ¥ä¸‹æ¥å°±æ˜¯qemu-system-misc ä¿®å¤ï¼Œqemu-system-misc åŒ…æ”¶åˆ°äº†ä¸€ä¸ªæ›´æ–°ï¼Œè¯¥æ›´æ–°ç ´åäº†å®ƒä¸å†…æ ¸çš„å…¼å®¹æ€§ï¼Œ æ‰€ä»¥éœ€è¦ä¸€ä¸ªè€ç‰ˆæœ¬ã€‚</p><p>å…ˆå¸è½½æ–°ç‰ˆæœ¬ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo apt-get remove qemu-system-misc
</span></span></code></pre></div><p>ç„¶åå®‰è£…è€çš„å…¼å®¹ç‰ˆæœ¬ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo apt-get install qemu-system-misc<span class=o>=</span>1:4.2-3ubuntu6
</span></span></code></pre></div><p><strong>ç‰¹åˆ«æ³¨æ„</strong>ï¼šè¿™ä¸ª<strong>qemu-system-misc=1:4.2-3ubuntu6</strong>å°±æ˜¯å‰æ–‡æåˆ° <strong>ubuntu 18</strong> æ‰€æ‰¾ä¸åˆ°çš„åŒ…</p><p>è¿™é‡Œéœ€è¦è¡¥ä¸€ä¸ªåŒ…ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¼šå¾—åˆ°not foundä¿¡æ¯ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ riscv64-unknown-elf-gcc --version
</span></span></code></pre></div><p>å¯ä»¥ç›´æ¥è£…ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo apt install gcc-riscv64-unknown-elf-gcc
</span></span></code></pre></div><p>å†æ¬¡æµ‹è¯•ï¼Œç°åœ¨åº”è¯¥å¯ä»¥æ­£ç¡®æ˜¾ç¤ºç‰ˆæœ¬ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ riscv64-unknown-elf-gcc --version
</span></span><span class=line><span class=cl>riscv64-unknown-elf-gcc <span class=o>(</span>GCC<span class=o>)</span> 10.1.0
</span></span></code></pre></div><p>æ£€æŸ¥ç¯å¢ƒæ˜¯å¦æ­å»ºå®Œæˆã€‚</p><p>è¿è¡Œè¿™ä¸¤ä¸ªç‰ˆæœ¬æ£€æŸ¥ï¼Œè¾“å‡ºç‰ˆæœ¬ä¿¡æ¯ä¸€æ ·å°±å®Œæˆäº†ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ qemu-system-riscv64 --version
</span></span><span class=line><span class=cl>QEMU emulator version 5.1.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ riscv64-unknown-elf-gcc --version
</span></span><span class=line><span class=cl>riscv64-unknown-elf-gcc (GCC) 10.1.0
</span></span></code></pre></div><h2 id=ç‰ˆæœ¬æ§åˆ¶>ç‰ˆæœ¬æ§åˆ¶</h2><p>æˆ‘ä»¬éœ€è¦å°†è¯¾ç¨‹ä»£ç ä¸‹è½½åˆ°æœ¬åœ°ä»¥åŠä½¿ç”¨githubæ¥è¿›è¡Œå¼€å‘ç®¡ç†:</p><p>é¦–å…ˆåœ¨Githubä¸Šæ–°å¼€ä¸€ä¸ªç©ºä»“åº“ã€‚</p><p>ç„¶åå°†mitçš„å®éªŒä»£ç å…‹éš†åˆ°æœ¬åœ°ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git clone git://g.csail.mit.edu/xv6-labs-2020
</span></span></code></pre></div><p>è¿›å…¥å¯¹äºæ–‡ä»¶å¤¹ä»¥åŠåˆ‡æ¢åˆ†æ”¯ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ <span class=nb>cd</span> xv6-labs-2020
</span></span><span class=line><span class=cl>$ git checkout util
</span></span></code></pre></div><p><strong>æ³¨</strong>ï¼šMIT 6.S081 è¿™é—¨è¯¾ç¨‹æ¯ä¸ªlabå¯¹åº”ä¸€ä¸ªgitåˆ†æ”¯ï¼Œutilåˆ†æ”¯æ˜¯ç¬¬ä¸€ä¸ªlabçš„åˆ†æ”¯ï¼Œè¿™é‡Œç”¨è¿™ä¸ªåˆ†æ”¯æµ‹è¯•ä¹‹å‰æ­å»º</p><p>æ‰§è¡Œå‘½ä»¤ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo make qemu
</span></span></code></pre></div><p>çœ‹åˆ°ä¸‹åˆ—è¾“å‡ºè¯æ˜æˆ‘ä»¬çš„é…ç½®ç”Ÿæ•ˆäº†ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>xv6 kernel is booting
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>hart 2 starting
</span></span><span class=line><span class=cl>hart 1 starting
</span></span><span class=line><span class=cl>init: starting sh
</span></span></code></pre></div><p>åœ¨è¿™ç§æƒ…å†µä¸‹è¾“å…¥lsä¼šå¾—åˆ°ä»¥ä¸‹è¾“å‡ºï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ ls
</span></span><span class=line><span class=cl>.              1 1 1024
</span></span><span class=line><span class=cl>..             1 1 1024
</span></span><span class=line><span class=cl>README         2 2 2104
</span></span><span class=line><span class=cl>xargstest.sh   2 3 99
</span></span><span class=line><span class=cl>cat            2 4 23864
</span></span><span class=line><span class=cl>echo           2 5 22688
</span></span><span class=line><span class=cl>forktest       2 6 13000
</span></span><span class=line><span class=cl>grep           2 7 27208
</span></span><span class=line><span class=cl>init           2 8 23776
</span></span><span class=line><span class=cl>kill           2 9 22664
</span></span><span class=line><span class=cl>ln             2 10 22608
</span></span><span class=line><span class=cl>ls             2 11 26104
</span></span><span class=line><span class=cl>mkdir          2 12 22760
</span></span><span class=line><span class=cl>rm             2 13 22744
</span></span><span class=line><span class=cl>sh             2 14 41736
</span></span><span class=line><span class=cl>stressfs       2 15 23760
</span></span><span class=line><span class=cl>usertests      2 16 147440
</span></span><span class=line><span class=cl>grind          2 17 37872
</span></span><span class=line><span class=cl>wc             2 18 24968
</span></span><span class=line><span class=cl>zombie         2 19 22136
</span></span><span class=line><span class=cl>console        3 20 0
</span></span></code></pre></div><p><strong>æ³¨</strong>ï¼šåé¢˜äº†ï¼Œå›å½’ç‰ˆæœ¬ç®¡ç†</p><p>æ·»åŠ gitä»“åº“çš„åœ°å€ï¼Œè¿™ä¸ªä»“åº“åœ°å€æ˜¯ç¬¬ä¸€æ­¥æ–°å»ºçš„ä»“åº“åœ°å€</p><p><del>å°±æ˜¯å¹³æ—¶ä½¿ç”¨git cloneåçš„é“¾æ¥</del></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git remote add github ä½ çš„ä»“åº“åœ°å€
</span></span></code></pre></div><p><strong>ç‰¹åˆ«æ³¨æ„</strong>ï¼šè¯·å‹¿éšæ„ä¿®æ”¹.gitç›®å½•å’ŒåŸoriginæŒ‡å‘çš„é“¾æ¥</p><p>æ¥ç€æˆ‘ä»¬å¯ä»¥æŠŠlab1çš„å®éªŒä»£ç æ¨é€åˆ°githubï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git push github util:util
</span></span></code></pre></div><p><strong>æ³¨</strong>ï¼šå‘½ä»¤ä¸­çš„githubæ˜¯è¿œç¨‹ä¸»æœºåï¼Œè¡¨ç¤ºä¼šæ¨åˆ°ä¸Šä¸€æ­¥æ¨åˆ°çš„é“¾æ¥ä¸Š</p><p><strong>æ³¨</strong>ï¼šç‰ˆæœ¬æ§åˆ¶çš„éƒ¨åˆ†<a href=http://xv6.dgs.zone/>6.S081-All-In-One-Gitbook</a>æä¾›äº†å›¾æ–‡æ•™ç¨‹ï¼Œå¯ä»¥è¿›è¡Œå‚è€ƒ</p><p>å¥½äº†åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»é…ç½®åˆ°åŸºç¡€çš„ç¯å¢ƒå’Œåšå¥½äº†ç‰ˆæœ¬ç®¡ç†</p><p>æ¥ä¸‹æ¥å°±èƒ½å¼€å§‹åšlabå®éªŒäº†ğŸ‰</p><p>Happy coding ğŸ’–</p></div><div class=post_footer><div class=meta><div class=info><span class="field tags"><i class=ri-stack-line></i>
<a href=https://yzhe819.github.io/tags/%E4%B8%AD%E6%96%87/>ä¸­æ–‡</a>
<a href=https://yzhe819.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/>æ“ä½œç³»ç»Ÿ</a>
<a href=https://yzhe819.github.io/tags/6.s081/>6.S081</a></span></div></div></div></div><div class=doc_comments></div></div></div></div><a id=back_to_top href=# class=back_to_top><i class=ri-arrow-up-s-line></i></a><footer class=footer><div class=powered_by><a href=https://varkai.com>Designed by VarKai,</a>
<a href=http://www.gohugo.io/>Proudly published with Hugo</a></div><div class=footer_slogan><span></span></div></footer><script src=https://yzhe819.github.io/js/jquery-3.5.1.min.js></script>
<link href=https://yzhe819.github.io/css/fancybox.min.css rel=stylesheet><script src=https://yzhe819.github.io/js/fancybox.min.js></script>
<script src=https://yzhe819.github.io/js/zozo.js></script>
<script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[[","]]"]],processEscapes:!0,processEnvironments:!0,skipTags:["script","noscript","style","textarea","pre"],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var e,t=MathJax.Hub.getAllJax();for(e=0;e<t.length;e+=1)t[e].SourceElement().parentNode.className+=" has-jax"})</script><style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style></body></html>